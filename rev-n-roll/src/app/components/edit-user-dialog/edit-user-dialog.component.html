<!-- edit-user-dialog.component.html -->
<div class="dialog-container">
    <mat-icon class="user-icon">person</mat-icon>
    <h2 class="dialog-title">Edit Profile</h2>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="form-content">
      <!-- Email -->
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" required>
        <mat-error *ngIf="userForm.get('email')?.hasError('required')">
          Email is required
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('email')">
          Please enter a valid email address
        </mat-error>
      </mat-form-field>
  
      <!-- Nickname -->
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Nickname</mat-label>
        <input matInput formControlName="nickname" required>
        <mat-error *ngIf="userForm.get('nickname')?.hasError('required')">
          Nickname is required
        </mat-error>
        <mat-error *ngIf="userForm.get('nickname')?.hasError('minlength')">
          Nickname must be at least 2 characters
        </mat-error>
      </mat-form-field>
  
      <!-- Description -->
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description" rows="3"></textarea>
        <mat-error *ngIf="userForm.get('description')?.hasError('maxlength')">
          Description cannot exceed 500 characters
        </mat-error>
      </mat-form-field>
  
      <!-- Image Location -->
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Image URL</mat-label>
        <input matInput formControlName="imageLocation">
        <mat-error *ngIf="userForm.get('imageLocation')?.hasError('maxlength')">
          Image URL cannot exceed 200 characters
        </mat-error>
      </mat-form-field>
  
      <!-- Buttons -->
      <div class="button-container">
        <button mat-button type="button" class="cancel-button" (click)="onCancel()">Cancel</button>
        <button mat-raised-button type="submit" color="primary" class="submit-button" [disabled]="userForm.invalid || isSubmitting">
          <mat-spinner diameter="20" *ngIf="isSubmitting"></mat-spinner>
          <span *ngIf="!isSubmitting">Update Profile</span>
        </button>
      </div>
    </form>
  </div>